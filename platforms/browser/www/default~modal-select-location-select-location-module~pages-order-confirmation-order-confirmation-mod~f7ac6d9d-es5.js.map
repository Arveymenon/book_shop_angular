{"version":3,"sources":["./src/app/modal/select-location/select-location.page.html","./src/app/modal/select-location/select-location-routing.module.ts","./src/app/modal/select-location/select-location.module.ts","./src/app/modal/select-location/select-location.page.scss","./src/app/modal/select-location/select-location.page.ts","./src/app/services/toast/toast.service.ts"],"names":[],"mappings":";;;;;;;;;AAAA,sVAAsV,WAAW,gW;;;;;;;;;;;;;;;;;;;ACAxT;AACc;AAEK;AAE5D,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wEAAkB;KAC9B;CACF,CAAC;AAMF;IAAA;IAA8C,CAAC;IAAlC,+BAA+B;QAJ3C,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,+BAA+B,CAAG;IAAD,sCAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBH;AACM;AACmB;AAErB;AAEsC;AAEvB;AAY5D;IAAA;IAAuC,CAAC;IAA3B,wBAAwB;QAVpC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,kEAAmB;gBACnB,0DAAW;gBACX,+FAA+B;aAChC;YACD,YAAY,EAAE,CAAC,wEAAkB,CAAC;SACnC,CAAC;OACW,wBAAwB,CAAG;IAAD,+BAAC;CAAA;AAAH;;;;;;;;;;;;ACpBrC,+BAA+B,eAAe,gBAAgB,0BAA0B,GAAG,cAAc,kBAAkB,oBAAoB,sBAAsB,GAAG,UAAU,gBAAgB,iBAAiB,GAAG,kBAAkB,uBAAuB,GAAG,8BAA8B,uBAAuB,gBAAgB,iBAAiB,gBAAgB,aAAa,cAAc,uBAAuB,sBAAsB,GAAG,6CAA6C,+3D;;;;;;;;;;;;;;;;;;;;;;;;;;ACAvZ;AACP;AACE;AAC3B;AACoC;AACpC;AAC2B;AACzB;AACsB;AACS;AAQ1E;IASE,4BACS,eAAgC,EAChC,WAAwB,EACxB,OAAgB,EAChB,MAAc,EACd,QAAyB,EACzB,KAAmB,EACnB,SAAmB,EACnB,IAAiB,EACjB,SAA0B,EAC1B,cAA8B;QAT9B,oBAAe,GAAf,eAAe,CAAiB;QAChC,gBAAW,GAAX,WAAW,CAAa;QACxB,YAAO,GAAP,OAAO,CAAS;QAChB,WAAM,GAAN,MAAM,CAAQ;QACd,aAAQ,GAAR,QAAQ,CAAiB;QACzB,UAAK,GAAL,KAAK,CAAc;QACnB,cAAS,GAAT,SAAS,CAAU;QACnB,SAAI,GAAJ,IAAI,CAAa;QACjB,cAAS,GAAT,SAAS,CAAiB;QAC1B,mBAAc,GAAd,cAAc,CAAgB;IACnC,CAAC;IAEL,qCAAQ,GAAR;QACE,IAAI,CAAC,OAAO,EAAE,CAAC;QACf,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACxC,OAAO,EAAE,CAAC,EAAE,EAAC,yDAAU,CAAC,QAAQ,CAAC;YACjC,UAAU,EAAE,CAAC,EAAE,CAAC;SACjB,CAAC;IACJ,CAAC;IAGD,oCAAO,GAAP;QAAA,iBA4BC;QA3BC,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE,CAAC,IAAI,CAAC,UAAC,IAAS;YACjD,yDAAyD;YACvD,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YACjF,KAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YAChC,KAAI,CAAC,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC;YACjC,IAAI,UAAU,GAAG;gBACf,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,EAAE;gBACR,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO;aACzC;YAGD,0EAA0E;YAE1E,KAAI,CAAC,GAAG,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,KAAI,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC;YAE1E,KAAI,CAAC,GAAG,CAAC,WAAW,CAAC,aAAa,EAAE;gBAClC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAC,KAAI,CAAC,GAAG,CAAC,CAAC;gBACjC,KAAI,CAAC,QAAQ,CAAC,wBAAwB,CAAC,KAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,EAAE,KAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,IAAI,CAAC,UAAC,GAAQ;oBACjG,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;oBAChB,KAAI,CAAC,OAAO,GAAG,GAAG;gBACpB,CAAC,CAAC;YACJ,CAAC,CAAC,CAAC;QAEH,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;YACb,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACL,CAAC;IAED,uCAAU,GAAV;QAAA,iBAiCC;QAhCC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE;YAClC,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,GAAG,EAAE,IAAI,CAAC,GAAG;SACd,CAAC,CAAC,IAAI,CAAC,iBAAO;YACb,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YACrB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,cAAI;gBAChC,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBACxB,QAAQ,EAAE,KAAI,CAAC,GAAG;oBAClB,SAAS,EAAE,KAAI,CAAC,GAAG;oBACnB,OAAO,EAAE,KAAI,CAAC,OAAO;oBACrB,IAAI,EAAE,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,KAAK;oBAClC,QAAQ,EAAE,KAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ;oBACzC,WAAW,EAAE,IAAI,CAAC,EAAE;iBACrB,CAAC,CAAC;gBACH,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAClB,KAAI,CAAC,cAAc,CAAC,MAAM,EAAE,CAAC;gBAC7B,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,oBAAoB,EAAE,IAAI,CAAC;qBACjD,IAAI,CAAC,UAAC,IAAS;oBAChB,KAAI,CAAC,cAAc,CAAC,OAAO,EAAE,CAAC;oBAC9B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;oBAElB,IAAI,IAAI,CAAC,KAAK,IAAI,KAAK,EAAE;wBACrB,uDAAuD;wBACvD,KAAI,CAAC,KAAK,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;wBAC7C,KAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;qBAC1B;gBACH,CAAC,EAAE,aAAG;oBACE,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;gBACrB,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;QACT,CAAC,CAAC,CAAC;IACL,CAAC;;gBApFyB,8DAAe;gBACnB,0DAAW;gBACf,sDAAO;gBACR,sDAAM;gBACJ,0FAAe;gBAClB,iFAAY;gBACR,wDAAQ;gBACb,8EAAW;gBACN,8DAAe;gBACV,wFAAc;;IAlBhB;QAAtB,+DAAS,CAAC,KAAK,EAAC,IAAI,CAAC;wEAAa,wDAAU;0DAAC;IADnC,kBAAkB;QAL9B,+DAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;YAC/B,2KAA0C;;SAE3C,CAAC;+EAW0B,8DAAe;YACnB,0DAAW;YACf,sDAAO;YACR,sDAAM;YACJ,0FAAe;YAClB,iFAAY;YACR,wDAAQ;YACb,8EAAW;YACN,8DAAe;YACV,wFAAc;OAnB5B,kBAAkB,CA+F9B;IAAD,yBAAC;CAAA;AA/F8B;;;;;;;;;;;;;;;;;;;ACjBY;AACM;AAKjD;IAEE,sBACU,SAA0B;QAA1B,cAAS,GAAT,SAAS,CAAiB;IAChC,CAAC;IAEC,2BAAI,GAAV,UAAW,OAAY,EAAE,MAAY,EAAE,QAAc;;;;gBACnD,sBAAO,IAAI,OAAO,CAAE,UAAO,OAAO,EAAE,MAAM;;;;wCAC1B,qBAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;wCACxC,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI;wCAC9B,OAAO,EAAE,OAAO;wCAChB,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ;wCACxC,QAAQ,EAAE,IAAI;qCACf,CAAC;;oCALI,KAAK,GAAG,SAKZ;oCACF,KAAK,CAAC,OAAO,EAAE,CAAC;;;;yBACjB,CAAC,EAAC;;;KACJ;;gBAboB,8DAAe;;IAHzB,YAAY;QAHxB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;+EAIqB,8DAAe;OAHzB,YAAY,CAiBxB;IAAD,mBAAC;CAAA;AAjBwB","file":"default~modal-select-location-select-location-module~pages-order-confirmation-order-confirmation-mod~f7ac6d9d-es5.js","sourcesContent":["module.exports = \"<ion-content>\\n    <div class=\\\"map-wrapper\\\">\\n      <div id=\\\"map_center\\\">\\n        <img src=\\\"../assets/icon/center_marker.png\\\" />\\n      </div>\\n      <div #map id=\\\"map\\\"></div>\\n    </div>\\n    <div id=\\\"address\\\">\\n      <form [formGroup]=\\\"new_address\\\" (ngSubmit)=\\\"addAddress()\\\">\\n        <ion-input disabled>{{ address }}</ion-input>\\n        <ion-input formControlName=\\\"house\\\" placeholder=\\\"House/Flat No.\\\" required></ion-input>\\n        <ion-input formControlName=\\\"landmark\\\" placeholder=\\\"Landmark\\\"></ion-input>\\n        <ion-button expand=\\\"block\\\" [disabled]=\\\"!new_address.valid\\\" type=\\\"submit\\\">Submit</ion-button>\\n      </form>\\n    </div>\\n  </ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SelectLocationPage } from './select-location.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SelectLocationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SelectLocationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SelectLocationPageRoutingModule } from './select-location-routing.module';\n\nimport { SelectLocationPage } from './select-location.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    SelectLocationPageRoutingModule\n  ],\n  declarations: [SelectLocationPage]\n})\nexport class SelectLocationPageModule {}\n","module.exports = \"#map_canvas {\\n  width: 90%;\\n  height: 60%;\\n  border: 1px solid red;\\n}\\n\\n#address {\\n  padding: 10px;\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n\\n#map {\\n  width: 100%;\\n  height: 70vh;\\n}\\n\\n.map-wrapper {\\n  position: relative;\\n}\\n\\n.map-wrapper #map_center {\\n  position: absolute;\\n  z-index: 99;\\n  height: 40px;\\n  width: 40px;\\n  top: 50%;\\n  left: 50%;\\n  margin-left: -21px;\\n  margin-top: -41px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9BcHBsaWNhdGlvbnMvTUFNUC9odGRvY3MvYm9va19zaG9wMi9zcmMvYXBwL21vZGFsL3NlbGVjdC1sb2NhdGlvbi9zZWxlY3QtbG9jYXRpb24ucGFnZS5zY3NzIiwic3JjL2FwcC9tb2RhbC9zZWxlY3QtbG9jYXRpb24vc2VsZWN0LWxvY2F0aW9uLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFVBQUE7RUFDQSxXQUFBO0VBQ0EscUJBQUE7QUNDSjs7QURHRTtFQUNFLGFBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUNBSjs7QURHRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FDQUo7O0FER0U7RUFDRSxrQkFBQTtBQ0FKOztBREVJO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUNBTiIsImZpbGUiOiJzcmMvYXBwL21vZGFsL3NlbGVjdC1sb2NhdGlvbi9zZWxlY3QtbG9jYXRpb24ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI21hcF9jYW52YXMge1xuICAgIHdpZHRoOiA5MCU7XG4gICAgaGVpZ2h0OiA2MCU7XG4gICAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xuICB9XG4gICBcbiAgIFxuICAjYWRkcmVzcyB7XG4gICAgcGFkZGluZzogMTBweDtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cbiAgIFxuICAjbWFwIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDcwdmg7XG4gIH1cbiAgIFxuICAubWFwLXdyYXBwZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgIFxuICAgICNtYXBfY2VudGVyIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHotaW5kZXg6IDk5O1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICB0b3A6IDUwJTtcbiAgICAgIGxlZnQ6IDUwJTtcbiAgICAgIG1hcmdpbi1sZWZ0OiAtMjFweDtcbiAgICAgIG1hcmdpbi10b3A6IC00MXB4O1xuICAgIH1cbiAgfSIsIiNtYXBfY2FudmFzIHtcbiAgd2lkdGg6IDkwJTtcbiAgaGVpZ2h0OiA2MCU7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbn1cblxuI2FkZHJlc3Mge1xuICBwYWRkaW5nOiAxMHB4O1xuICBmb250LXNpemU6IDE4cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4jbWFwIHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNzB2aDtcbn1cblxuLm1hcC13cmFwcGVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuLm1hcC13cmFwcGVyICNtYXBfY2VudGVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiA5OTtcbiAgaGVpZ2h0OiA0MHB4O1xuICB3aWR0aDogNDBweDtcbiAgdG9wOiA1MCU7XG4gIGxlZnQ6IDUwJTtcbiAgbWFyZ2luLWxlZnQ6IC0yMXB4O1xuICBtYXJnaW4tdG9wOiAtNDFweDtcbn0iXX0= */\"","import { Component, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport { ToastController, ModalController } from '@ionic/angular';\nimport { Validators, FormGroup, FormBuilder } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LocationService } from 'src/app/services/location/location.service';\nimport { Storage } from '@ionic/storage';\nimport { ToastService } from 'src/app/services/toast/toast.service';\nimport { Location } from '@angular/common';\nimport { HttpService } from 'src/app/services/http/http.service';\nimport { LoadingService } from 'src/app/services/loading/loading.service';\n\ndeclare var google; \n@Component({\n  selector: 'app-select-location',\n  templateUrl: './select-location.page.html',\n  styleUrls: ['./select-location.page.scss'],\n})\nexport class SelectLocationPage implements OnInit {\n  @ViewChild('map',null) mapElement: ElementRef;\n  map: any;\n  address:string;\n\n  public new_address: FormGroup\n  public lat;\n  public lng;\n\n  constructor(\n    public toastController: ToastController,\n    public formBuilder: FormBuilder,\n    public storage: Storage,\n    public router: Router,\n    public location: LocationService,\n    public toast: ToastService,\n    public _location: Location,\n    public http: HttpService,\n    public modalCtrl: ModalController,\n    public loadingService: LoadingService\n  ) { }\n\n  ngOnInit() {\n    this.loadMap();\n    this.new_address = this.formBuilder.group({\n      'house': ['',Validators.required],\n      'landmark': ['']\n    })\n  }\n\n\n  loadMap() {\n    this.location.getCurrentPostion().then((resp: any) => {\n    // this.geolocation.getCurrentPosition().then((resp) => {\n      let latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\n      this.lat = resp.coords.latitude;\n      this.lng = resp.coords.longitude;\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n      \n\n      // this.getAddressFromCoords(resp.coords.latitude, resp.coords.longitude);\n \n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n \n      this.map.addListener('tilesloaded', () => {\n        console.log('accuracy',this.map);\n        this.location.getLocationByCoordinates(this.map.center.lat(), this.map.center.lng()).then((res: any)=>{\n          console.log(res)\n          this.address = res\n        })\n      });\n  \n      }).catch((error) => {\n        console.log('Error getting location', error);\n    });\n  }\n\n  addAddress() {\n    console.log(this.new_address.value);\n    this.storage.set('default_address', {\n      lat: this.lat,\n      lng: this.lng\n    }).then(address => {\n      console.log(address);\n      this.storage.get('user').then(user => {\n        let body = JSON.stringify({\n          latitude: this.lat,\n          longitude: this.lng,\n          address: this.address,\n          flat: this.new_address.value.house,\n          landmark: this.new_address.value.landmark,\n          customer_id: user.id\n        });\n        console.log(body);\n        this.loadingService.create();\n        this.http.call('post', 'api/address/update', body)\n        .then((data: any) => {\n        this.loadingService.dismiss();\n        console.log(data);\n\n        if (data.error == false) {\n            // this.router.navigate(['/home'], {replaceUrl: true});\n            this.toast.show('Address Succesfully Added');\n            this.modalCtrl.dismiss();\n          }\n        }, err => {\n                console.log(err);\n            });\n          });\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ToastService {\n\n  constructor(\n    private toastCtrl: ToastController\n  ) { }\n\n  async show(message: any, header?: any, position?: any) {\n    return new Promise( async (resolve, reject) => {\n      const toast = await this.toastCtrl.create({\n        header: header ? header : null,\n        message: message,\n        position: position ? position : 'bottom',\n        duration: 2000,\n      });\n      toast.present();\n    });\n  }\n}\n"],"sourceRoot":""}