{"version":3,"sources":["./src/app/services/cart/cart.service.ts","./src/app/services/http/http.service.ts","./src/app/services/loading/loading.service.ts"],"names":[],"mappings":"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","file":"default~pages-cart-cart-module~pages-home-home-module~pages-order-confirmation-order-confirmation-mo~18cf6a1e-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpService } from '../http/http.service';\nimport { Storage } from '@ionic/storage';\nimport { LoadingService } from '../loading/loading.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CartService {\n\n  public cart = [];\n\n  public books = [];\n  \n  public recommendations = [];\n\n  public total = 0;\n\n  public filter = {\n      subject: null,\n      standard: null,\n      board: null,\n      refurbished: false\n    };\n\n\n  constructor(\n    private http: HttpService,\n    private storage: Storage,\n    private loading: LoadingService\n  ) {\n    // do not remove this function call.\n    this.getBooks();\n  }\n\n  getBooks(filters?: any) {\n    const promise = new Promise((resolve, reject) => {\n      this.loading.create();\n      this.http.call('post', 'api/books/get/0', JSON.stringify(filters))\n      .then((res: any) => {\n        console.log(res);\n        this.loading.dismiss();\n        if (res.error === false) {\n\n              this.storage.get('cart').then((cart: any) => {\n              console.log(cart);\n              if (cart) {\n\n                this.cart = cart;\n                res.response.forEach((element: any) => {\n                  const book = cart.find(o => o.id == element.id);\n                  console.log(element);\n                  console.log(book);\n                  if (book) {\n                    element.product_type = 1;\n                    element.quantity_in_cart = book.quantity_in_cart;\n                    element.refurbished = book.refurbished;\n                    // tslint:disable-next-line: no-unused-expression\n                    } else {\n                      element.quantity_in_cart = 0;\n                      element.refurbished = false;\n                    }\n                  });\n\n\n                this.books = res.response;\n                resolve(res.response);\n                } else {\n                    res.response.forEach((element: any) => {\n                        element.quantity_in_cart = 0;\n                        element.refurbished = false;\n                      });\n                    this.books = res.response;\n                    resolve(res.response);\n                    }\n                  });\n\n              } else {\n                  console.log('No Books in the database');\n                  reject('No Books in the database');\n                }\n        });\n      });\n    return promise;\n    }\n\n    getCart() {\n      return new Promise((resolve, reject) => {\n\n        this.cart = [];\n        this.storage.get('cart').then(cart => {\n        cart.forEach((element: any) => {\n          console.log(element);\n\n          if (element.product_type === 1) {\n\n          this.loading.create();\n          this.http.call('post', 'api/books/get/' + element.id)\n          .then((res: any) => {\n\n                this.loading.dismiss();\n                console.log(res);\n                if (res.error === false) {\n                  res.response.quantity_in_cart = element.quantity_in_cart;\n                  res.response.refurbished = element.refurbished;\n                  this.cart.push(res.response);\n                  console.log(this.cart);\n                }\n\n              });\n\n          } else if (element.product_type === 3) {\n            console.log('PackageElement', element);\n          }\n          console.log(this.books);\n          });\n        resolve(this.books);\n       });\n      });\n    }\n\n    setCart(cart) {\n      const promise = new Promise((resolve, reject) => {\n        this.storage.set('cart', cart);\n        resolve(cart);\n      });\n      return promise;\n    }\n\n    getRecommendations() {\n      if (this.cart) {\n\n        this.http.call('post', 'api/recommendations/get', this.cart)\n          .then((res: any) => {\n            console.log(res);\n            this.recommendations = res.response;\n          });\n      }\n    }\n\n    // addToCart(product, productType) {\n    //   return new Promise((resolve, reject)=>{\n    //     if (productType === 1) {\n    //        this.addBook(product, productType); return;\n    //     } else {\n    //       product.product_type = productType;\n          \n    //     }\n    //   });\n    // }\n\n\n    calculate() {\n      return new Promise((resolve, reject) => {\n        let total = 0;\n\n        // this.http.call('post', 'api/books/get/0')\n        // .then((res: any) => {\n        //   console.log(res);\n        //   if (res.error === false) {\n\n        console.log(this.books);\n        console.log(this.cart);\n        // this.storage.get('cart').then((cart: any) => {\n        //   console.log(cart);\n        if (this.cart) {\n          const calculate = new Promise((resolve2, rej) => {\n            this.cart.forEach((element: any) => {\n                if (element.product_type === 1) {\n                  console.log(element);\n\n                  // If refurbished product available and user has selected it\n                  if ((element.refurbished_available === 1 || element.refurbished_available === 0) && element.refurbished === true) {\n                    total = total + (Math.round(element.mrp_in_rupees * 0.8) * element.quantity_in_cart);\n                    console.log(total);\n\n                  } else {\n\n                    total = total + (element.mrp_in_rupees * element.quantity_in_cart);\n                    console.log(total);\n\n                  }\n                }\n                if (element.product_type === 2 || element.product_type === 3) {\n                  total = total + (element.mrp_in_rupees * element.quantity_in_cart);\n                }\n              });\n            console.log(total);\n            resolve2(total);\n          });\n          calculate.then((calcTotal: number) => {\n            console.log(calcTotal);\n            this.total = calcTotal;\n            resolve(this.total);\n          });\n        }\n              // });\n            // }\n        // });\n    });\n  }\n    addProduct(product, productType) {\n      console.log(product);\n      return new Promise((resolve, reject) => {\n        console.log(this.cart);\n        console.log(this.books);\n\n\n        // Books View\n        // if (productType === 1) {\n        //   const viewBookItt = this.books.findIndex(o => (o.id === product.id));\n        //   if (viewBookItt > -1) {\n        //     this.books[viewBookItt].quantity_in_cart = this.books[viewBookItt].quantity_in_cart + 1;\n        //   }\n        // }\n\n        // Cart Array And Storage\n        const cartBookItt = this.cart.findIndex(o => (o.id === product.id && o.product_type === productType));\n        console.log(cartBookItt);\n        if (cartBookItt > -1) {\n\n\n          console.log(this.cart[cartBookItt].quantity_in_cart);\n          this.cart[cartBookItt].quantity_in_cart +=  1;\n          console.log(this.cart[cartBookItt].quantity_in_cart);\n          if (this.cart[cartBookItt].refurbished_available === 1 || this.cart[cartBookItt].refurbished_available === 0) {\n            this.cart[cartBookItt].refurbished = this.cart[cartBookItt].refurbished === true ? true : false;\n          }\n          this.cart[cartBookItt].product_type = productType;\n\n          this.setCart(this.cart).then(() => {\n            console.log(this.cart);\n            this.calculate();\n            resolve(this.cart);\n          });\n        } else {\n\n\n          product.quantity_in_cart = 1;\n          product.product_type = productType;\n          if (product.refurbished_available === 1 || product.refurbished_available === 0) {\n            product.refurbished = product.refurbished === true ? true : false;\n          }\n          console.log(product);\n\n          this.cart.push(product);\n\n          this.setCart(this.cart).then(() => {\n            this.calculate();\n            resolve(this.cart);\n          });\n        }\n      });\n    }\n\n    removeProduct(product) {\n      console.log(this.cart);\n      console.log(product);\n      return new Promise((resolve, reject) => {\n\n        // Books View\n        // if (product.product_type == 1) {\n        //   const viewBookItt = this.books.findIndex(o => o.id === product.id);\n        //   if(viewBookItt > -1){\n        //     this.books[viewBookItt].quantity_in_cart = this.books[viewBookItt].quantity_in_cart - 1;\n        //   }\n        // }\n\n        // Cart Array And Storage\n        const bookItt = this.cart.findIndex(o => (o.id === product.id && o.product_type === product.product_type));\n        console.log(bookItt);\n\n        if (bookItt > -1) {\n          if ((this.cart[bookItt].quantity_in_cart - 1) !== 0 ) {\n\n            this.cart[bookItt].quantity_in_cart = this.cart[bookItt].quantity_in_cart - 1;\n\n            this.setCart(this.cart).then(() => {\n              resolve(this.cart);\n              this.calculate();\n            });\n\n          } else {\n\n            // remove the book entirely from the cart\n            console.log(this.cart);\n            this.cart.splice(bookItt, 1);\n            console.log(this.cart);\n\n            this.setCart(this.cart).then(() => {\n              resolve(this.cart);\n              this.calculate();\n            });\n          }\n        }\n      });\n    }\n\n    refurbishedToggle(bookId) {\n      console.log(bookId);\n      return new Promise((resolve, reject) => {\n        console.log(this.cart);\n        const viewBookItt = this.books.findIndex(o => o.id == bookId);\n        const bookItt = this.cart.findIndex(o => o.id == bookId);\n        this.storage.set('cart', this.cart).then(res => {\n          this.calculate();\n        });\n        resolve(this.cart[bookItt]);\n        });\n    }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpRequest } from '@angular/common/http';\nimport { Http, Headers, RequestOptions } from '@angular/http'; \nimport { map } from 'rxjs/operators';\n\n// import { HTTP, HTTPResponse } from '@ionic-native/http/ngx';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpService {\n  constructor(public http: HttpClient) {\n\n  }\n\n  call(method, apiEndPoint, body?: any) {\n    console.log(apiEndPoint);\n    // const url = 'https://schooby-env.ejmqritgxz.us-east-2.elasticbeanstalk.com/' + apiEndPoint;\n    const url = 'http://localhost:8888/book_shop_backend/' + apiEndPoint;\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n      'Accept': 'application/json'\n    });\n    return new Promise((resolve, reject) => {\n\n      switch(method) {\n        case 'get': {\n          console.log(url)\n          this.http.get(url, { headers })\n          .subscribe((data) => {\n            resolve(data);\n          },\n          (error) => {\n            reject(error);\n          },\n        );\n          break;\n        }\n        case 'post': {\n          this.http.post(url, body, { headers })\n          .subscribe((data) => {\n            resolve(data);\n          },\n          (error) => {\n            reject(error);\n            },\n          );\n          break;\n        }\n        case 'put': {\n          this.http.put(url, body, { headers })\n            .subscribe((data) => {\n              resolve(data);\n            },\n            (error) => {\n              reject(error);\n              },\n            );\n          break;\n        }\n        case 'delete': {\n          this.http.delete(url, { headers })\n            .subscribe((data) => {\n              resolve(data);\n            },\n            (error) => {\n              reject(error);\n              },\n            );\n          break;\n        }\n        default: {\n           console.log('method not defined');\n           reject('method not defined');\n           break;\n        }\n     }\n\n\n\n      // if(method == 'get'){\n      //   this.http.get(body,this.option)\n      //   .subscribe((data) => {\n      //     resolve(data)\n      //   },\n      //   (error) => {\n      //     reject(error);\n      //   },\n      // );\n      // }else if(method == 'post'){\n\n      // }else if(method == 'put'){\n\n      // }else if(method == 'delete'){\n\n      // }\n    });\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { LoadingController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoadingService {\n  public loader: any;\n  constructor(\n    public loadingController: LoadingController,\n  ) {\n  }\n\n  async create() {\n    this.loader = await this.loadingController.create({\n      message: 'Please wait...',\n      spinner: 'crescent',\n      duration: 2000\n\n    });\n    return this.loader.present();\n  }\n\n  async dismiss() {\n    this.loader.dismiss();\n  }\n}\n"],"sourceRoot":""}