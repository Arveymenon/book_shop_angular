(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{A1Tq:function(n,l,t){"use strict";t.d(l,"a",(function(){return o}));var u=t("t/Na"),e=t("CcnG"),o=function(){function n(n){this.http=n}return n.prototype.call=function(n,l,t){var e=this;console.log(l);var o="https://schooby.us-east-2.elasticbeanstalk.com/"+l,i=new u.g({"Content-Type":"application/json",Accept:"application/json"});return new Promise((function(l,u){switch(n){case"get":console.log(o),e.http.get(o,{headers:i}).subscribe((function(n){l(n)}),(function(n){u(n)}));break;case"post":e.http.post(o,t,{headers:i}).subscribe((function(n){l(n)}),(function(n){u(n)}));break;case"put":e.http.put(o,t,{headers:i}).subscribe((function(n){l(n)}),(function(n){u(n)}));break;case"delete":e.http.delete(o,{headers:i}).subscribe((function(n){l(n)}),(function(n){u(n)}));break;default:console.log("method not defined"),u("method not defined")}}))},n.ngInjectableDef=e.Ob({factory:function(){return new n(e.Pb(u.c))},token:n,providedIn:"root"}),n}()},yp29:function(n,l,t){"use strict";t.r(l);var u=t("CcnG"),e=function(){return function(){}}(),o=t("pMnS"),i=t("oBZk"),s=t("ZZ/e"),r=t("gIcY"),a=t("Ip0R"),c=t("mrSG"),d=t("esXn"),b=t("ELlc"),p=t("A1Tq"),h=t("7Siz"),g=t("9ZKQ"),f=t("vglk"),v=function(){function n(n,l,t,u,e,o,i,s,a){this.cartService=n,this.payment=l,this.http=t,this.storage=u,this.router=e,this.modalController=o,this.toast=i,this.loadingService=s,this.navCtrl=a,this.total=0,this.old_total=0,this.addresses=[],this.selectedAddress=new r.c,this.couponCode=new r.c}return n.prototype.ngOnInit=function(){var n=this;this.storage.get("user").then((function(l){console.log(l),n.user=l,n.http.call("get","api/address/"+l.id).then((function(l){console.log(l),0==l.error&&(n.addresses=l.response)})),n.cartService.calculate().then((function(l){n.total=l}))}))},n.prototype.validateCoupon=function(){var n=this;this.cartService.calculate().then((function(l){console.log(l),n.storage.get("cart").then((function(t){console.log(t);var u=JSON.stringify({code:n.couponCode.value,customerId:1,cartTotal:l,cart:t});console.log(u),n.loadingService.create(),n.http.call("post","api/coupon/check",u).then((function(l){console.log(l),n.loadingService.create(),0==l.validated?n.toast.show(l.message):(n.old_total=n.total,n.total=l.discounted_total,n.toast.show("Coupon Added Sucessfully"))}))}))}))},n.prototype.addAddress=function(){return c.b(this,void 0,void 0,(function(){var n,l=this;return c.e(this,(function(t){switch(t.label){case 0:return[4,this.modalController.create({component:h.a})];case 1:return(n=t.sent()).onDidDismiss().then((function(){l.ngOnInit()})),[4,n.present()];case 2:return[2,t.sent()]}}))}))},n.prototype.makePayment=function(){var n=this;console.log(this.selectedAddress.value),this.selectedAddress.value?this.storage.get("cart").then((function(l){console.log(l),n.payment.pay(n.total).then((function(t){if(console.log(t),n.res_check=t.paymentId,0==t.error){var u={customer_id:n.user.id,address_id:n.selectedAddress.value,transaction_id:"1234353",status:0,details:l,coupon:{code:n.couponCode.value},total:n.total,sub_total:n.old_total>0?n.old_total:n.total};console.log(u),n.loadingService.create(),n.http.call("post","api/order/post",JSON.stringify(u)).then((function(l){console.log(l),n.loadingService.dismiss(),0==l.error?(n.storage.remove("cart"),n.navCtrl.navigateRoot("/home")):alert("Some Error Occured")}))}}))})):this.toast.show("Kindly Select An Address")},n}(),m=t("iw74"),C=t("ZYCi"),k=u.rb({encapsulation:0,styles:[[".footer[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{text-align:center;font-size:1.2em;margin:auto}.footer[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{text-align:center}.footer[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .order_details[_ngcontent-%COMP%]{background:var(--ion-color-primary);padding:10px;color:#fff;font-weight:900;box-shadow:0 1px 6px 0 #7b7b7b}"]],data:{}});function y(n){return u.Lb(0,[(n()(),u.tb(0,0,null,null,2,"ion-select-option",[],null,null,null,i.R,i.u)),u.sb(1,49152,null,0,s.pb,[u.h,u.k,u.z],{value:[0,"value"]},null),(n()(),u.Kb(2,0,["",""]))],(function(n,l){n(l,1,0,l.context.$implicit.id)}),(function(n,l){n(l,2,0,l.context.$implicit.address)}))}function _(n){return u.Lb(0,[(n()(),u.tb(0,0,null,null,7,"div",[["class","width-100 text-center"]],null,null,null,null,null)),(n()(),u.tb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),u.Kb(-1,null,["Coupon Applied"])),(n()(),u.tb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),u.Kb(4,null,["",""])),(n()(),u.tb(5,0,null,null,2,"h5",[],null,null,null,null,null)),(n()(),u.tb(6,0,null,null,1,"s",[],null,null,null,null,null)),(n()(),u.Kb(7,null,["",""]))],null,(function(n,l){var t=l.component;n(l,4,0,t.couponCode.value),n(l,7,0,t.old_total)}))}function z(n){return u.Lb(0,[(n()(),u.tb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),u.Kb(1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.res_check)}))}function D(n){return u.Lb(0,[(n()(),u.tb(0,0,null,null,30,"ion-content",[],null,null,null,i.E,i.g)),u.sb(1,49152,null,0,s.v,[u.h,u.k,u.z],null,null),(n()(),u.tb(2,0,null,0,13,"ion-item",[["class","vertically-center"]],null,null,null,i.K,i.m)),u.sb(3,49152,null,0,s.I,[u.h,u.k,u.z],null,null),(n()(),u.tb(4,0,null,0,2,"ion-label",[["position","floating"]],null,null,null,i.L,i.n)),u.sb(5,49152,null,0,s.O,[u.h,u.k,u.z],{position:[0,"position"]},null),(n()(),u.Kb(-1,0,["Select Your Address"])),(n()(),u.tb(7,0,null,0,8,"ion-select",[["interface","action-sheet"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var e=!0;return"ionBlur"===l&&(e=!1!==u.Fb(n,8)._handleBlurEvent(t.target)&&e),"ionChange"===l&&(e=!1!==u.Fb(n,8)._handleChangeEvent(t.target)&&e),e}),i.S,i.t)),u.sb(8,16384,null,0,s.Pb,[u.k],null,null),u.Hb(1024,null,r.i,(function(n){return[n]}),[s.Pb]),u.sb(10,540672,null,0,r.d,[[8,null],[8,null],[6,r.i],[2,r.s]],{form:[0,"form"]},null),u.Hb(2048,null,r.j,null,[r.d]),u.sb(12,16384,null,0,r.k,[[4,r.j]],null,null),u.sb(13,49152,null,0,s.ob,[u.h,u.k,u.z],{interface:[0,"interface"]},null),(n()(),u.ib(16777216,null,0,1,null,y)),u.sb(15,278528,null,0,a.h,[u.O,u.L,u.s],{ngForOf:[0,"ngForOf"]},null),(n()(),u.tb(16,0,null,0,2,"ion-button",[["expand","block"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.addAddress()&&u),u}),i.z,i.b)),u.sb(17,49152,null,0,s.l,[u.h,u.k,u.z],{expand:[0,"expand"]},null),(n()(),u.Kb(-1,0,["Add New Address"])),(n()(),u.tb(19,0,null,0,11,"ion-item",[],null,null,null,i.K,i.m)),u.sb(20,49152,null,0,s.I,[u.h,u.k,u.z],null,null),(n()(),u.tb(21,0,null,0,6,"ion-input",[["placeholder","Coupon Code"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ionBlur"],[null,"ionChange"]],(function(n,l,t){var e=!0;return"ionBlur"===l&&(e=!1!==u.Fb(n,22)._handleBlurEvent(t.target)&&e),"ionChange"===l&&(e=!1!==u.Fb(n,22)._handleInputEvent(t.target)&&e),e}),i.J,i.l)),u.sb(22,16384,null,0,s.Qb,[u.k],null,null),u.Hb(1024,null,r.i,(function(n){return[n]}),[s.Qb]),u.sb(24,540672,null,0,r.d,[[8,null],[8,null],[6,r.i],[2,r.s]],{form:[0,"form"]},null),u.Hb(2048,null,r.j,null,[r.d]),u.sb(26,16384,null,0,r.k,[[4,r.j]],null,null),u.sb(27,49152,null,0,s.H,[u.h,u.k,u.z],{placeholder:[0,"placeholder"]},null),(n()(),u.tb(28,0,null,0,2,"ion-button",[["expand","block"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.validateCoupon()&&u),u}),i.z,i.b)),u.sb(29,49152,null,0,s.l,[u.h,u.k,u.z],{expand:[0,"expand"]},null),(n()(),u.Kb(-1,0,["Add Coupon"])),(n()(),u.ib(16777216,null,null,1,null,_)),u.sb(32,16384,null,0,a.i,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.ib(16777216,null,null,1,null,z)),u.sb(34,16384,null,0,a.i,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u.tb(35,0,null,null,14,"ion-footer",[],null,null,null,i.F,i.h)),u.sb(36,49152,null,0,s.A,[u.h,u.k,u.z],null,null),(n()(),u.tb(37,0,null,0,12,"div",[["class","footer"]],null,null,null,null,null)),(n()(),u.tb(38,0,null,null,11,"ion-grid",[],null,null,null,i.G,i.i)),u.sb(39,49152,null,0,s.B,[u.h,u.k,u.z],null,null),(n()(),u.tb(40,0,null,0,9,"ion-row",[],null,null,null,i.Q,i.s)),u.sb(41,49152,null,0,s.kb,[u.h,u.k,u.z],null,null),(n()(),u.tb(42,0,null,0,2,"ion-col",[["class","total"],["size","6"]],null,null,null,i.D,i.f)),u.sb(43,49152,null,0,s.u,[u.h,u.k,u.z],{size:[0,"size"]},null),(n()(),u.Kb(44,0,[" Order Total: "," \u20b9 "])),(n()(),u.tb(45,0,null,0,4,"ion-col",[["size","6"]],null,null,null,i.D,i.f)),u.sb(46,49152,null,0,s.u,[u.h,u.k,u.z],{size:[0,"size"]},null),(n()(),u.tb(47,0,null,0,2,"div",[["class","controls"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==n.component.makePayment()&&u),u}),null,null)),(n()(),u.tb(48,0,null,null,1,"p",[["class","order_details"]],null,null,null,null,null)),(n()(),u.Kb(-1,null,["Make Payment"]))],(function(n,l){var t=l.component;n(l,5,0,"floating"),n(l,10,0,t.selectedAddress),n(l,13,0,"action-sheet"),n(l,15,0,t.addresses),n(l,17,0,"block"),n(l,24,0,t.couponCode),n(l,27,0,"Coupon Code"),n(l,29,0,"block"),n(l,32,0,t.old_total>0),n(l,34,0,t.res_check),n(l,43,0,"6"),n(l,46,0,"6")}),(function(n,l){var t=l.component;n(l,7,0,u.Fb(l,12).ngClassUntouched,u.Fb(l,12).ngClassTouched,u.Fb(l,12).ngClassPristine,u.Fb(l,12).ngClassDirty,u.Fb(l,12).ngClassValid,u.Fb(l,12).ngClassInvalid,u.Fb(l,12).ngClassPending),n(l,21,0,u.Fb(l,26).ngClassUntouched,u.Fb(l,26).ngClassTouched,u.Fb(l,26).ngClassPristine,u.Fb(l,26).ngClassDirty,u.Fb(l,26).ngClassValid,u.Fb(l,26).ngClassInvalid,u.Fb(l,26).ngClassPending),n(l,44,0,t.total)}))}function F(n){return u.Lb(0,[(n()(),u.tb(0,0,null,null,1,"app-order-confirmation",[],null,null,null,D,k)),u.sb(1,114688,null,0,v,[d.a,b.a,p.a,m.b,C.m,s.Jb,g.a,f.a,s.Kb],null,null)],(function(n,l){n(l,1,0)}),null)}var w=u.pb("app-order-confirmation",v,F,{},{},[]),O=t("iN1W"),A=function(){return function(){}}(),P=t("6epx"),S=t("VqRL");t.d(l,"OrderConfirmationPageModuleNgFactory",(function(){return x}));var x=u.qb(e,[],(function(n){return u.Cb([u.Db(512,u.j,u.bb,[[8,[o.a,w,O.a]],[3,u.j],u.x]),u.Db(4608,a.k,a.j,[u.u,[2,a.q]]),u.Db(4608,r.r,r.r,[]),u.Db(4608,s.c,s.c,[u.z,u.g]),u.Db(4608,s.Jb,s.Jb,[s.c,u.j,u.q]),u.Db(4608,s.Nb,s.Nb,[s.c,u.j,u.q]),u.Db(4608,r.b,r.b,[]),u.Db(1073742336,a.b,a.b,[]),u.Db(1073742336,r.q,r.q,[]),u.Db(1073742336,r.g,r.g,[]),u.Db(1073742336,s.Fb,s.Fb,[]),u.Db(1073742336,r.n,r.n,[]),u.Db(1073742336,C.o,C.o,[[2,C.t],[2,C.m]]),u.Db(1073742336,A,A,[]),u.Db(1073742336,P.a,P.a,[]),u.Db(1073742336,S.a,S.a,[]),u.Db(1073742336,e,e,[]),u.Db(1024,C.k,(function(){return[[{path:"",component:v}],[{path:"",component:h.a}]]}),[])])}))}}]);