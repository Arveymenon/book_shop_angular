{"version":3,"sources":["./src/app/modal/resale-confimration/resale-confimration.component.html","./src/app/pages/order-details/order-details.page.html","./src/app/modal/resale-confimration/resale-confimration.component.scss","./src/app/modal/resale-confimration/resale-confimration.component.ts","./src/app/pages/order-details/order-details-routing.module.ts","./src/app/pages/order-details/order-details.module.ts","./src/app/pages/order-details/order-details.page.scss","./src/app/pages/order-details/order-details.page.ts"],"names":[],"mappings":"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","file":"pages-order-details-order-details-module-es5.js","sourcesContent":["module.exports = \"<ion-content>\\n  <ion-item class=\\\"vertically-center\\\">\\n    <ion-label position=\\\"floating\\\">Select Your Address</ion-label>\\n    <ion-select interface=\\\"action-sheet\\\" [formControl]=\\\"selectedAddress\\\">\\n      <ion-select-option *ngFor=\\\"let address of addresses\\\" [value]=\\\"address.id\\\">{{ address.address }}</ion-select-option>\\n      </ion-select>\\n  </ion-item>\\n  <ion-button expand=\\\"block\\\"(click)=\\\"addAddress()\\\">Add New Address</ion-button>\\n</ion-content>\\n\\n<ion-footer>\\n  <div class=\\\"footer\\\">\\n      <ion-grid>\\n          <ion-row>\\n              <ion-col size=\\\"6\\\" class=\\\"total\\\">\\n                Expected Pick Up Date: {{ moment(this.today).add(1, 'd').format('L') }}\\n                </ion-col>\\n              <ion-col size=\\\"6\\\">\\n                <div class=\\\"controls\\\" (click)=\\\"confirm()\\\">\\n                    <p class=\\\"order_details\\\">Confirm Address</p>\\n                  </div>\\n                </ion-col>\\n            </ion-row>\\n        </ion-grid>\\n    </div>\\n</ion-footer>\\n\"","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n      <!-- <ion-buttons slot=\\\"start\\\">\\n          <ion-menu-button></ion-menu-button>\\n        </ion-buttons> -->\\n    <ion-title>Order Details</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-card class=\\\"book_card\\\" *ngFor=\\\"let order of order.details; let itt = index\\\">\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size='3'>\\n            <img src='https://elasticbeanstalk-us-east-2-743144358023.s3.us-east-2.amazonaws.com/{{ order.book.image }}'>\\n          </ion-col>\\n        <ion-col size='5'>\\n            <b>{{ order.book.name }}</b><br>\\n            {{ order.book.board.name }}<br>\\n            Price: {{ order.refurbished ? math.round(order.book.mrp_in_rupees * 0.8) : order.book.mrp_in_rupees }} &#8377;\\n          </ion-col>\\n        <ion-col size='4'>\\n          <!-- Add to cart System -->\\n            <div>\\n              <div *ngIf=\\\"order.refurbished == 1\\\"> \\n                <p class=\\\"no-margin refurbished_flag\\\">Refurbished</p>\\n              </div>\\n                <div class='controls' *ngIf=\\\"resaleBooks[itt].quantity == 0 && resaleActive == true\\\" (click)=\\\"addToCart(itt)\\\">\\n                  <p onclick=\\\"this.style='box-shadow: none'\\\" class=\\\"add_to_cart_button\\\">Add To Cart</p>\\n                </div>\\n                <div class=\\\"controls full_controls\\\" *ngIf=\\\"resaleBooks[itt].quantity != 0\\\">\\n                  <div class=\\\"plus_minus_button\\\" (click)=\\\"addToCart(itt)\\\">+</div>\\n                  <div class=\\\"product_in_cart\\\">{{ resaleBooks[itt].quantity }}</div>\\n                  <div class=\\\"plus_minus_button\\\" (click)=\\\"removeFromCart(itt)\\\">-</div>\\n                </div>\\n              </div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-card>\\n</ion-content>\\n\\n<ion-footer>\\n\\n    <div class=\\\"footer\\\" *ngIf=\\\"this.resaleTotal == 0\\\">\\n        <ion-grid>\\n            <ion-row>\\n                <ion-col class=\\\"total\\\" *ngIf=\\\"order.particular\\\">\\n                  Total: {{ order.particular[0].amount }} &#8377;\\n                  </ion-col>\\n                  <ion-col *ngIf=\\\"resaleActive == false && order.resale_order\\\" class=\\\"ion-text-center\\\">\\n                    Expected Resale<br> Pick Up Date:\\n                       {{ moment(order.resale_order[order.resale_order.length - 1].created_at).add(1, 'd').format('L') }}\\n                   </ion-col>\\n              </ion-row>\\n          </ion-grid>\\n      </div>\\n    <div class=\\\"footer\\\" *ngIf=\\\"this.resaleTotal != 0\\\">\\n        <ion-grid>\\n            <ion-row>\\n                <ion-col class=\\\"total\\\">\\n                  Estimated Resale Value:<br> {{ resaleTotal }} &#8377;\\n                  </ion-col>\\n                <ion-col>\\n                  <div class=\\\"controls\\\">\\n                      <p onclick=\\\"this.style='box-shadow: none'\\\" (click)=\\\"requestResale()\\\" class=\\\"order_details\\\">Request Resale</p>\\n                    </div>\\n                  </ion-col>\\n              </ion-row>\\n          </ion-grid>\\n      </div>\\n</ion-footer>\\n\"","module.exports = \".footer .total {\\n  text-align: center;\\n  font-size: 1.2em;\\n  margin: auto;\\n}\\n.footer .controls {\\n  text-align: center;\\n}\\n.footer .controls .order_details {\\n  background: var(--ion-color-primary);\\n  padding: 10px;\\n  color: #fff;\\n  font-weight: 900;\\n  box-shadow: 0px 1px 6px 0px #7b7b7b;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcnVsdmluYXlhay9EZXNrdG9wL1Byb2plY3RzL0lvbmljL2Jvb2tfc2hvcF9hbmd1bGFyL3NyYy9hcHAvbW9kYWwvcmVzYWxlLWNvbmZpbXJhdGlvbi9yZXNhbGUtY29uZmltcmF0aW9uLmNvbXBvbmVudC5zY3NzIiwic3JjL2FwcC9tb2RhbC9yZXNhbGUtY29uZmltcmF0aW9uL3Jlc2FsZS1jb25maW1yYXRpb24uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQ0FSO0FESUk7RUFDQSxrQkFBQTtBQ0ZKO0FER1E7RUFDSSxvQ0FBQTtFQUNBLGFBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQ0FBQTtBQ0RaIiwiZmlsZSI6InNyYy9hcHAvbW9kYWwvcmVzYWxlLWNvbmZpbXJhdGlvbi9yZXNhbGUtY29uZmltcmF0aW9uLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZvb3RlcntcbiAgICAudG90YWx7XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgZm9udC1zaXplOiAxLjJlbTtcbiAgICAgICAgbWFyZ2luOiBhdXRvO1xuXG4gICAgfVxuXG4gICAgLmNvbnRyb2xze1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgLm9yZGVyX2RldGFpbHN7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG4gICAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgICBmb250LXdlaWdodDogOTAwO1xuICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDFweCA2cHggMHB4ICM3YjdiN2I7XG4gICAgICAgICAgICAvLyBib3JkZXItcmFkaXVzOiAxNnB4O1xuICAgICAgICB9XG4gICAgfVxufSIsIi5mb290ZXIgLnRvdGFsIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDEuMmVtO1xuICBtYXJnaW46IGF1dG87XG59XG4uZm9vdGVyIC5jb250cm9scyB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5mb290ZXIgLmNvbnRyb2xzIC5vcmRlcl9kZXRhaWxzIHtcbiAgYmFja2dyb3VuZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xuICBwYWRkaW5nOiAxMHB4O1xuICBjb2xvcjogI2ZmZjtcbiAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgYm94LXNoYWRvdzogMHB4IDFweCA2cHggMHB4ICM3YjdiN2I7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { HttpService } from 'src/app/services/http/http.service';\nimport { ModalController } from '@ionic/angular';\nimport { FormControl, Validators } from '@angular/forms';\n\n\nimport * as moment from 'moment';\nimport { SelectLocationPage } from '../select-location/select-location.page';\n// const moment = require('moment');\n\n@Component({\n  selector: 'app-resale-confimration',\n  templateUrl: './resale-confimration.component.html',\n  styleUrls: ['./resale-confimration.component.scss'],\n})\nexport class ResaleConfimrationComponent implements OnInit {\n\n  addresses = [];\n  today = new Date();\n  selectedAddress = new FormControl('',Validators.required);\n  moment = moment;\n  constructor(\n    private storage: Storage,\n    public http: HttpService,\n    public modalctrl: ModalController,\n    public modalController: ModalController\n  ) { }\n\n  ngOnInit() {\n    console.log(moment(this.today).add(1, 'd').format('L'));\n    this.storage.get('user').then(user => {\n      console.log(user);\n      this.http.call('get', 'api/address/' + user.id)\n        .then((res: any) => {\n          console.log(res);\n          if (res.error == false) {\n            this.addresses = res.response;\n          }\n        });\n    });\n  }\n\n  async addAddress() {\n    const modal = await this.modalController.create({\n      component: SelectLocationPage,\n      });\n\n    modal.onDidDismiss().then(() => {\n        this.ngOnInit();\n      });\n\n    return await modal.present();\n\n  }\n\n  confirm() {\n    if (this.selectedAddress.valid) {\n      this.modalctrl.dismiss(this.selectedAddress.value);\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderDetailsPage } from './order-details.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderDetailsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderDetailsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderDetailsPageRoutingModule } from './order-details-routing.module';\n\nimport { OrderDetailsPage } from './order-details.page';\nimport { ResaleConfimrationComponent } from 'src/app/modal/resale-confimration/resale-confimration.component';\nimport { SelectLocationPageModule } from 'src/app/modal/select-location/select-location.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OrderDetailsPageRoutingModule,\n    ReactiveFormsModule,\n    SelectLocationPageModule\n  ],\n  declarations: [OrderDetailsPage, ResaleConfimrationComponent],\n  entryComponents: [ResaleConfimrationComponent]\n})\nexport class OrderDetailsPageModule {}\n","module.exports = \".book_card {\\n  border-radius: 20px;\\n}\\n.book_card .refurbished_flag {\\n  float: right;\\n  padding-right: 5px;\\n}\\n.book_card .books_refurbished_checkbox {\\n  float: right;\\n}\\n.book_card .controls {\\n  width: 100%;\\n  text-align: center;\\n  float: right;\\n}\\n.book_card .full_controls {\\n  display: -webkit-box;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: reverse;\\n          flex-direction: row-reverse;\\n  margin-top: 10px;\\n}\\n.book_card .add_to_cart_button {\\n  background: #ff9b24ba;\\n  padding: 10px;\\n  color: #fff;\\n  font-weight: 900;\\n  box-shadow: 0px 1px 6px 0px #7b7b7b;\\n  border-radius: 16px;\\n}\\n.book_card .product_in_cart {\\n  width: 33%;\\n  margin: auto;\\n  font-size: 1.6em;\\n}\\n.book_card .plus_minus_button {\\n  width: 33%;\\n  padding: 2px;\\n  color: #fff;\\n  font-weight: 700;\\n  font-size: 1.9em;\\n  border-radius: 31px;\\n  background: #ff9b24ba;\\n}\\n.footer .total {\\n  text-align: center;\\n  font-size: 1.2em;\\n  margin: auto;\\n}\\n.footer .controls {\\n  text-align: center;\\n}\\n.footer .controls .order_details {\\n  background: #ff9b24ba;\\n  padding: 10px;\\n  color: #fff;\\n  font-weight: 900;\\n  box-shadow: 0px 1px 6px 0px #7b7b7b;\\n  border-radius: 16px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hcnVsdmluYXlhay9EZXNrdG9wL1Byb2plY3RzL0lvbmljL2Jvb2tfc2hvcF9hbmd1bGFyL3NyYy9hcHAvcGFnZXMvb3JkZXItZGV0YWlscy9vcmRlci1kZXRhaWxzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvb3JkZXItZGV0YWlscy9vcmRlci1kZXRhaWxzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG1CQUFBO0FDQ0o7QURDSTtFQUNFLFlBQUE7RUFDQSxrQkFBQTtBQ0NOO0FERUk7RUFDRSxZQUFBO0FDQU47QURHSTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7QUNETjtBRElJO0VBQ0Usb0JBQUE7RUFBQSxhQUFBO0VBQ0EsOEJBQUE7RUFBQSw4QkFBQTtVQUFBLDJCQUFBO0VBQ0EsZ0JBQUE7QUNGTjtBREtJO0VBQ0UscUJBQUE7RUFDQSxhQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsbUNBQUE7RUFDQSxtQkFBQTtBQ0hOO0FETUk7RUFDRSxVQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FDSk47QURPSTtFQUNFLFVBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLHFCQUFBO0FDTE47QURVSTtFQUNJLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxZQUFBO0FDUFI7QURXSTtFQUNBLGtCQUFBO0FDVEo7QURVUTtFQUNJLHFCQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLG1DQUFBO0VBQ0EsbUJBQUE7QUNSWiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL29yZGVyLWRldGFpbHMvb3JkZXItZGV0YWlscy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYm9va19jYXJke1xuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgXG4gICAgLnJlZnVyYmlzaGVkX2ZsYWd7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG4gICAgfVxuICAgIFxuICAgIC5ib29rc19yZWZ1cmJpc2hlZF9jaGVja2JveHtcbiAgICAgIGZsb2F0OiByaWdodDtcbiAgICB9XG4gICAgXG4gICAgLmNvbnRyb2xze1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICBmbG9hdDogcmlnaHQ7XG4gICAgfVxuICAgIFxuICAgIC5mdWxsX2NvbnRyb2xze1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcbiAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgfVxuICAgIFxuICAgIC5hZGRfdG9fY2FydF9idXR0b257XG4gICAgICBiYWNrZ3JvdW5kOiAjZmY5YjI0YmE7XG4gICAgICBwYWRkaW5nOiAxMHB4O1xuICAgICAgY29sb3I6ICNmZmY7XG4gICAgICBmb250LXdlaWdodDogOTAwO1xuICAgICAgYm94LXNoYWRvdzogMHB4IDFweCA2cHggMHB4ICM3YjdiN2I7XG4gICAgICBib3JkZXItcmFkaXVzOiAxNnB4O1xuICAgIH1cbiAgXG4gICAgLnByb2R1Y3RfaW5fY2FydHtcbiAgICAgIHdpZHRoOiAzMyU7XG4gICAgICBtYXJnaW46IGF1dG87XG4gICAgICBmb250LXNpemU6IDEuNmVtO1xuICAgIH1cbiAgXG4gICAgLnBsdXNfbWludXNfYnV0dG9ue1xuICAgICAgd2lkdGg6IDMzJTtcbiAgICAgIHBhZGRpbmc6IDJweDtcbiAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgICAgIGZvbnQtc2l6ZTogMS45ZW07XG4gICAgICBib3JkZXItcmFkaXVzOiAzMXB4O1xuICAgICAgYmFja2dyb3VuZDogI2ZmOWIyNGJhO1xuICAgIH1cbiAgfVxuXG4uZm9vdGVye1xuICAgIC50b3RhbHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBmb250LXNpemU6IDEuMmVtO1xuICAgICAgICBtYXJnaW46IGF1dG87XG5cbiAgICB9XG5cbiAgICAuY29udHJvbHN7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAub3JkZXJfZGV0YWlsc3tcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZjliMjRiYTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA5MDA7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwcHggMXB4IDZweCAwcHggIzdiN2I3YjtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLmJvb2tfY2FyZCB7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG59XG4uYm9va19jYXJkIC5yZWZ1cmJpc2hlZF9mbGFnIHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBwYWRkaW5nLXJpZ2h0OiA1cHg7XG59XG4uYm9va19jYXJkIC5ib29rc19yZWZ1cmJpc2hlZF9jaGVja2JveCB7XG4gIGZsb2F0OiByaWdodDtcbn1cbi5ib29rX2NhcmQgLmNvbnRyb2xzIHtcbiAgd2lkdGg6IDEwMCU7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuLmJvb2tfY2FyZCAuZnVsbF9jb250cm9scyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3ctcmV2ZXJzZTtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cbi5ib29rX2NhcmQgLmFkZF90b19jYXJ0X2J1dHRvbiB7XG4gIGJhY2tncm91bmQ6ICNmZjliMjRiYTtcbiAgcGFkZGluZzogMTBweDtcbiAgY29sb3I6ICNmZmY7XG4gIGZvbnQtd2VpZ2h0OiA5MDA7XG4gIGJveC1zaGFkb3c6IDBweCAxcHggNnB4IDBweCAjN2I3YjdiO1xuICBib3JkZXItcmFkaXVzOiAxNnB4O1xufVxuLmJvb2tfY2FyZCAucHJvZHVjdF9pbl9jYXJ0IHtcbiAgd2lkdGg6IDMzJTtcbiAgbWFyZ2luOiBhdXRvO1xuICBmb250LXNpemU6IDEuNmVtO1xufVxuLmJvb2tfY2FyZCAucGx1c19taW51c19idXR0b24ge1xuICB3aWR0aDogMzMlO1xuICBwYWRkaW5nOiAycHg7XG4gIGNvbG9yOiAjZmZmO1xuICBmb250LXdlaWdodDogNzAwO1xuICBmb250LXNpemU6IDEuOWVtO1xuICBib3JkZXItcmFkaXVzOiAzMXB4O1xuICBiYWNrZ3JvdW5kOiAjZmY5YjI0YmE7XG59XG5cbi5mb290ZXIgLnRvdGFsIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBmb250LXNpemU6IDEuMmVtO1xuICBtYXJnaW46IGF1dG87XG59XG4uZm9vdGVyIC5jb250cm9scyB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5mb290ZXIgLmNvbnRyb2xzIC5vcmRlcl9kZXRhaWxzIHtcbiAgYmFja2dyb3VuZDogI2ZmOWIyNGJhO1xuICBwYWRkaW5nOiAxMHB4O1xuICBjb2xvcjogI2ZmZjtcbiAgZm9udC13ZWlnaHQ6IDkwMDtcbiAgYm94LXNoYWRvdzogMHB4IDFweCA2cHggMHB4ICM3YjdiN2I7XG4gIGJvcmRlci1yYWRpdXM6IDE2cHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { CartService } from 'src/app/services/cart/cart.service';\nimport { HttpService } from 'src/app/services/http/http.service';\nimport { Storage } from '@ionic/storage';\nimport { ToastService } from 'src/app/services/toast/toast.service';\nimport { Location } from '@angular/common';\nimport { ResaleConfimrationComponent } from 'src/app/modal/resale-confimration/resale-confimration.component';\nimport { ModalController } from '@ionic/angular';\n\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-order-details',\n  templateUrl: './order-details.page.html',\n  styleUrls: ['./order-details.page.scss'],\n})\nexport class OrderDetailsPage implements OnInit {\n  books = [];\n  math = Math;\n\n  total = 0;\n  resaleTotal = 0;\n  order : any = {};\n  moment = moment;\n  \n  resaleBooks = [];\n  resaleActive = false;\n\n  constructor(\n    private router: Router,\n    private cartService: CartService,\n    private route: ActivatedRoute,\n    private http: HttpService,\n    private storage: Storage,\n    public toast: ToastService,\n    public location: Location,\n    public modalController: ModalController\n  ) { }\n\n  ngOnInit() {\n    this.storage.remove('cart');\n    this.route.paramMap.subscribe((params: any) => {\n      console.log(params);\n      this.http.call('get', 'api/order/details/' + params.params.id)\n      .then((res: any) => {\n        console.log(res);\n        if (res.error == false) {\n\n          this.order = res.response;\n          res.response.details.forEach(element => {\n            console.log(element);\n            this.resaleBooks.push({\n              order_details_id: element.id,\n              quantity: 0\n            });\n          });\n\n          if (res.response.status == 2) {\n\n            if (res.response.resale_order.length == 0) {\n\n              this.resaleActive = true;\n\n            } else {\n\n              const lastResaleStatus = res.response.resale_order[res.response.resale_order.length - 1].status;\n              if (lastResaleStatus == 2 || lastResaleStatus == 5) {\n                this.resaleActive = true;\n              }\n\n            }\n          }\n        }\n      });\n    });\n    this.cartService.getBooks().then((res: any) => {\n      this.books = res;\n      console.log(this.books);\n    });\n  }\n\n  async requestResale() {\n    \n    const modal = await this.modalController.create({\n      component: ResaleConfimrationComponent\n    });\n    \n    modal.onDidDismiss().then(res => {\n      console.log(res);\n\n      const body = JSON.stringify({\n        order_id: this.order.id,\n        address_id: res.data,\n        details: this.resaleBooks\n      });\n      console.log(body)\n      this.http.call('post', 'api/resale/post', body).then((data: any) => {\n        console.log(data);\n        if (data.error == false) {\n          this.toast.show('Resale Request Sent Successfully');\n          this.location.back();\n        } else {\n          this.toast.show('Some Error Occured');\n        }\n      });\n    });\n    return await modal.present();\n  }\n\n  details(){\n    this.router.navigate(['order_details']);\n  }\n\n  addToCart(itt) {\n    console.log('add', itt);\n    if (this.order.details[itt].quantity > this.resaleBooks[itt].quantity) {\n      this.resaleBooks[itt].quantity += 1;\n      this.calculate();\n    } else {\n      this.toast.show('Cannot Add Books More Than You Bought In This Order');\n    }\n  }\n  \n  removeFromCart(itt){\n    console.log('remove', itt);\n    console.log(this.resaleBooks);\n    this.resaleBooks[itt].quantity -= 1;\n    this.calculate();\n  }\n\n  calculate() {\n    this.resaleTotal = 0;\n    for (const book in this.resaleBooks) {\n      if (this.resaleBooks[book].quantity != 0) {\n        console.log( parseInt(this.order.details[book].book.mrp_in_rupees) );\n        console.log(this.resaleBooks[book].quantity);\n  \n        const bookPrice = this.order.details[book].refurbished == 0 ? parseInt(this.order.details[book].book.mrp_in_rupees) \n        : (parseInt(this.order.details[book].book.mrp_in_rupees) * 0.8);\n  \n  \n        this.resaleTotal = this.resaleTotal + (((bookPrice * 0.6) * this.resaleBooks[book].quantity));\n        console.log(this.resaleTotal);\n      }\n    }\n  }\n\n}\n"],"sourceRoot":""}